<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="form-container">
        <div class="titulo">
            <h1>Registro de Productos</h1>
        </div>
        <div class="codigo">
            C贸digo del producto
        </div>
        <div class="codigoInput">
            <input type="text" id="codigo">
        </div>
        <div class="description">
            Descripci贸n
        </div>
        <div class="descriptionInput">
            <input type="text" id="descripcion">
        </div>
        <div class="valorUnitario">
            Valor Unitario
        </div>
        <div class="valorUnitInput">
            <input type="text" id="valorUnitario">
        </div>
        <div class="unidStock">
            Unidades en Stock
        </div>
        <div class="uniStockInput">
            <input type="text" id="unidadesStock">
        </div>
        <div class="buttonArea">
            <button onclick="cargarDatos()">Cargar Producto</button>
        </div>
    </div>
    <div id="tabla">

    </div>
</body>
</html>
<script>
    function cargarDatos(){
        if(validarFormulario() == false) return alert('Completa todos los campos requeridos');
        if(!document.getElementById("body-table")) crearTabla();
        agregarColumna(validarFormulario());
    }
    function validarFormulario(){
        var codigo = document.getElementById("codigo");
        var descripcion = document.getElementById("descripcion");
        var valorUnitario = document.getElementById("valorUnitario");
        var unidadesStock = document.getElementById("unidadesStock");
        let json = {
            codigo: codigo.value,
            descripcion: descripcion.value,
            valorUnitario: valorUnitario.value,
            unidadesStock: unidadesStock.value,
        }
        if(codigo.value.trim().length == 0 ) {
            codigo.focus();
            return false
        };
        if(descripcion.value.trim().length == 0) {
            descripcion.focus();
            return false;
        }
        if(valorUnitario.value.trim().length == 0) {
            valorUnitario.focus();
            return false;
        }
        if(unidadesStock.value.trim().length == 0) {
            unidadesStock.focus();
            return false;
        }
        return json;
    }

    function crearTabla () {
        var tableDiv = document.getElementById('tabla');
        var tabla = document.createElement("table");

        var tblHead = document.createElement("thead");
        var tblBody = document.createElement("tbody");
        tblBody.setAttribute("id", "body-table")

        var hilera = document.createElement("tr");

        var celda1 = document.createElement("th");
        var celda2 = document.createElement("th");
        var celda3 = document.createElement("th");
        var celda4 = document.createElement("th");

        var texto1 = document.createTextNode("C贸digo");
        var texto2 = document.createTextNode("Descripci贸n");
        var texto3 = document.createTextNode("Valor Unitario");
        var texto4 = document.createTextNode("Unidades en Stock");

        celda1.appendChild(texto1);
        celda2.appendChild(texto2);
        celda3.appendChild(texto3);
        celda4.appendChild(texto4);

        hilera.appendChild(celda1);
        hilera.appendChild(celda2);
        hilera.appendChild(celda3);
        hilera.appendChild(celda4);
        
        tblHead.appendChild(hilera);
        tabla.appendChild(tblHead);
        tabla.appendChild(tblBody);
        tableDiv.appendChild(tabla);
        tabla.setAttribute("class", "table-style");
        tabla.setAttribute("id", "main-table");
    }
    function agregarColumna(data){
        var tblBody = document.getElementById("body-table");
        var hilera = document.createElement("tr");
        var celda1 = document.createElement("td");
        var celda2 = document.createElement("td");
        var celda3 = document.createElement("td");
        var celda4 = document.createElement("td"); 

        var codigoTXT = document.createTextNode(data.codigo);
        var descripcionTXT = document.createTextNode(data.descripcion);
        var valorUnitarioTXT = document.createTextNode(data.valorUnitario);
        var unidadesStockTXT = document.createTextNode(data.unidadesStock);

        celda1.appendChild(codigoTXT);
        celda2.appendChild(descripcionTXT);
        celda3.appendChild(valorUnitarioTXT);
        celda4.appendChild(unidadesStockTXT);

        hilera.appendChild(celda1);
        hilera.appendChild(celda2);
        hilera.appendChild(celda3);
        hilera.appendChild(celda4);
        tblBody.appendChild(hilera);
    }
</script>